<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopZone - Online Shopping</title>
    <!-- Tailwind CSS for rapid styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Custom Animations and Styles */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }

        .product-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Toast Notification */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 4px;
            padding: 16px;
            position: fixed;
            z-index: 50;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s, bottom 0.3s;
        }

        #toast.show {
            visibility: visible;
            opacity: 1;
            bottom: 50px;
        }

        .cart-badge {
            animation: pop 0.3s ease-in-out;
        }

        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.5); }
            100% { transform: scale(1); }
        }

        /* Hide scrollbar for category list but allow scroll */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Navigation Bar -->
    <nav class="bg-blue-600 text-white sticky top-0 z-40 shadow-md">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between gap-4">
            <!-- Logo -->
            <div class="flex items-center gap-2 cursor-pointer" onclick="app.showPage('home')">
                <i class="fa-solid fa-bag-shopping text-yellow-400 text-2xl"></i>
                <h1 class="text-xl font-bold tracking-tight">ShopZone</h1>
            </div>

            <!-- Search Bar (Hidden on very small screens) -->
            <div class="hidden md:flex flex-1 max-w-xl mx-4 relative">
                <input type="text" id="searchInput" placeholder="Search for products, brands and more" 
                       class="w-full py-2 px-4 rounded-md text-gray-800 focus:outline-none focus:ring-2 focus:ring-yellow-400"
                       oninput="app.filterProducts(this.value)">
                <button class="absolute right-0 top-0 h-full px-4 text-blue-600 bg-yellow-400 rounded-r-md hover:bg-yellow-500 font-bold">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
            </div>

            <!-- Nav Icons -->
            <div class="flex items-center gap-6">
                <div class="hidden sm:block font-medium cursor-pointer hover:text-gray-200">Login</div>
                
                <div class="relative cursor-pointer" onclick="app.showPage('cart')">
                    <i class="fa-solid fa-cart-shopping text-xl"></i>
                    <span id="cartCount" class="absolute -top-2 -right-2 bg-yellow-400 text-blue-900 text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
                    <span class="hidden sm:inline ml-1 font-medium">Cart</span>
                </div>
            </div>
        </div>
        
        <!-- Mobile Search (Visible only on small screens) -->
        <div class="md:hidden px-4 pb-3">
             <input type="text" placeholder="Search products..." 
                       class="w-full py-2 px-4 rounded-md text-gray-800 focus:outline-none"
                       oninput="app.filterProducts(this.value)">
        </div>
    </nav>

    <!-- MAIN CONTENT AREA -->
    <main id="mainContent" class="container mx-auto px-4 py-6 min-h-screen">
        
        <!-- === HOME PAGE VIEW === -->
        <div id="homePage">
            <!-- Hero Banner -->
            <div class="bg-white rounded-lg shadow-sm overflow-hidden mb-8 relative">
                <div class="bg-gradient-to-r from-blue-500 to-indigo-600 h-48 sm:h-64 flex items-center justify-between px-6 sm:px-12 text-white">
                    <div class="z-10">
                        <h2 class="text-3xl sm:text-5xl font-bold mb-2">Big Sale is Live!</h2>
                        <p class="text-lg mb-4 text-blue-100">Get up to 40% off on electronics.</p>
                        <button class="bg-yellow-400 text-blue-900 px-6 py-2 rounded-full font-bold hover:bg-yellow-300 transition" onclick="document.getElementById('productGrid').scrollIntoView({behavior: 'smooth'})">Shop Now</button>
                    </div>
                    <!-- Decorative Circle -->
                    <div class="absolute right-0 top-0 h-full w-1/2 bg-white opacity-10 rounded-l-full transform translate-x-1/2"></div>
                </div>
            </div>

            <!-- Categories Chips -->
            <div class="flex gap-3 overflow-x-auto no-scrollbar mb-6 pb-2">
                <button onclick="app.filterCategory('All')" class="whitespace-nowrap px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-medium shadow hover:bg-blue-700 transition">All</button>
                <button onclick="app.filterCategory('Electronics')" class="whitespace-nowrap px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium shadow hover:bg-gray-50 transition">Electronics</button>
                <button onclick="app.filterCategory('Fashion')" class="whitespace-nowrap px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium shadow hover:bg-gray-50 transition">Fashion</button>
                <button onclick="app.filterCategory('Home')" class="whitespace-nowrap px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium shadow hover:bg-gray-50 transition">Home & Kitchen</button>
                <button onclick="app.filterCategory('Books')" class="whitespace-nowrap px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium shadow hover:bg-gray-50 transition">Books</button>
            </div>

            <!-- Product Grid -->
            <h3 class="text-xl font-bold mb-4 text-gray-700">Recommended for You</h3>
            <div id="productGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Products will be injected here via JS -->
            </div>
            
            <!-- Empty State for Search -->
            <div id="noResults" class="hidden text-center py-20">
                <i class="fa-solid fa-magnifying-glass text-4xl text-gray-300 mb-4"></i>
                <p class="text-gray-500 text-lg">No products found.</p>
            </div>
        </div>

        <!-- === CART PAGE VIEW === -->
        <div id="cartPage" class="hidden">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <i class="fa-solid fa-arrow-left cursor-pointer text-gray-500 hover:text-blue-600 text-xl mr-2" onclick="app.showPage('home')"></i>
                Your Shopping Cart
            </h2>

            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Cart Items List -->
                <div class="lg:w-2/3">
                    <div id="cartItemsContainer" class="space-y-4">
                        <!-- Cart items injected here -->
                    </div>
                    
                    <!-- Empty Cart Message -->
                    <div id="emptyCartMsg" class="hidden bg-white rounded-lg shadow-sm p-10 text-center">
                        <img src="https://img.icons8.com/ios/100/e0e0e0/shopping-cart.png" alt="Empty Cart" class="mx-auto mb-4 opacity-50">
                        <h3 class="text-xl font-medium text-gray-700 mb-2">Your cart is empty!</h3>
                        <p class="text-gray-500 mb-6">Add items to it now.</p>
                        <button onclick="app.showPage('home')" class="bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700 transition">Shop Now</button>
                    </div>
                </div>

                <!-- Price Details / Checkout -->
                <div id="checkoutPanel" class="lg:w-1/3 h-fit">
                    <div class="bg-white rounded-lg shadow-sm p-6 sticky top-24">
                        <h3 class="text-gray-500 font-bold uppercase text-sm mb-4 border-b pb-2">Price Details</h3>
                        
                        <div class="flex justify-between mb-2 text-gray-700">
                            <span>Price (<span id="totalItemsCount">0</span> items)</span>
                            <span id="subTotalAmount">$0</span>
                        </div>
                        <div class="flex justify-between mb-2 text-gray-700">
                            <span>Discount</span>
                            <span class="text-green-600">-$0</span>
                        </div>
                        <div class="flex justify-between mb-4 text-gray-700">
                            <span>Delivery Charges</span>
                            <span class="text-green-600">Free</span>
                        </div>
                        
                        <div class="border-t border-dashed border-gray-300 pt-4 flex justify-between items-center mb-6">
                            <span class="text-lg font-bold text-gray-900">Total Amount</span>
                            <span class="text-lg font-bold text-gray-900" id="grandTotal">$0</span>
                        </div>
                        
                        <button onclick="app.checkout()" class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 rounded shadow transition transform active:scale-95">
                            PLACE ORDER
                        </button>
                        
                        <div class="mt-4 text-xs text-gray-400 text-center">
                            <i class="fa-solid fa-shield-halved mr-1"></i> Safe and Secure Payments. 100% Authentic products.
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white pt-10 pb-6 mt-12">
        <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
            <div>
                <h4 class="font-bold mb-4">About</h4>
                <ul class="text-gray-400 text-sm space-y-2">
                    <li>Contact Us</li>
                    <li>About Us</li>
                    <li>Careers</li>
                    <li>Press</li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-4">Help</h4>
                <ul class="text-gray-400 text-sm space-y-2">
                    <li>Payments</li>
                    <li>Shipping</li>
                    <li>Cancellation</li>
                    <li>FAQ</li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-4">Policy</h4>
                <ul class="text-gray-400 text-sm space-y-2">
                    <li>Return Policy</li>
                    <li>Terms of Use</li>
                    <li>Security</li>
                    <li>Privacy</li>
                </ul>
            </div>
            <div class="border-l border-gray-700 pl-0 md:pl-8">
                <h4 class="font-bold mb-4">Mail Us:</h4>
                <p class="text-gray-400 text-sm">
                    ShopZone Private Limited,<br>
                    Tech City, Building 4,<br>
                    Bangalore, Karnataka, India
                </p>
            </div>
        </div>
        <div class="border-t border-gray-700 pt-6 text-center text-gray-400 text-sm">
            &copy; 2023-2025 ShopZone. All rights reserved.
        </div>
    </footer>

    <!-- Toast Message Container -->
    <div id="toast">Item added to cart successfully!</div>

    <!-- JavaScript Logic -->
    <script>
        // === Data ===
        const productsData = [
            {
                id: 1,
                name: "Sony WH-1000XM5 Headphones",
                category: "Electronics",
                price: 348,
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1618366712010-f4ae9c647dcb?auto=format&fit=crop&q=80&w=500",
                description: "Industry-leading noise canceling with 30-hour battery life."
            },
            {
                id: 2,
                name: "MacBook Air M2",
                category: "Electronics",
                price: 999,
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?auto=format&fit=crop&q=80&w=500",
                description: "Supercharged by M2. 13.6-inch Liquid Retina display."
            },
            {
                id: 3,
                name: "Nike Air Jordan 1",
                category: "Fashion",
                price: 180,
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&q=80&w=500",
                description: "Classic high-top sneakers with premium leather."
            },
            {
                id: 4,
                name: "Minimalist Watch",
                category: "Fashion",
                price: 120,
                rating: 4.5,
                image: "https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=500",
                description: "Elegant design suitable for any occasion."
            },
            {
                id: 5,
                name: "Canon EOS R50",
                category: "Electronics",
                price: 679,
                rating: 4.6,
                image: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&q=80&w=500",
                description: "Compact mirrorless camera for content creators."
            },
            {
                id: 6,
                name: "Modern Coffee Table",
                category: "Home",
                price: 150,
                rating: 4.3,
                image: "https://images.unsplash.com/photo-1533090481720-856c6e3c1fdc?auto=format&fit=crop&q=80&w=500",
                description: "Oak wood finish, perfect for living rooms."
            },
            {
                id: 7,
                name: "The Great Gatsby",
                category: "Books",
                price: 15,
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?auto=format&fit=crop&q=80&w=500",
                description: "F. Scott Fitzgerald's classic novel of the Jazz Age."
            },
            {
                id: 8,
                name: "Gaming Chair",
                category: "Home",
                price: 220,
                rating: 4.4,
                image: "https://images.unsplash.com/photo-1598550476439-6847785fcea6?auto=format&fit=crop&q=80&w=500",
                description: "Ergonomic support for long gaming sessions."
            }
        ];

        // === Application State & Logic ===
        const app = {
            cart: [],
            currentFilter: 'All',

            init() {
                this.renderProducts(productsData);
                this.updateCartUI();
            },

            // Navigation
            showPage(pageId) {
                const home = document.getElementById('homePage');
                const cart = document.getElementById('cartPage');
                
                window.scrollTo(0,0);

                if (pageId === 'home') {
                    home.classList.remove('hidden');
                    cart.classList.add('hidden');
                } else {
                    home.classList.add('hidden');
                    cart.classList.remove('hidden');
                    this.renderCartItems();
                }
            },

            // Render Product Grid
            renderProducts(products) {
                const grid = document.getElementById('productGrid');
                const noResults = document.getElementById('noResults');
                
                grid.innerHTML = '';

                if (products.length === 0) {
                    grid.classList.add('hidden');
                    noResults.classList.remove('hidden');
                    return;
                }
                
                grid.classList.remove('hidden');
                noResults.classList.add('hidden');

                products.forEach(product => {
                    const card = document.createElement('div');
                    card.className = "product-card bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden flex flex-col";
                    card.innerHTML = `
                        <div class="h-48 overflow-hidden relative group">
                            <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                            <div class="absolute bottom-2 left-2 bg-white/90 px-2 py-1 rounded text-xs font-bold flex items-center gap-1">
                                <span class="bg-green-600 text-white px-1 rounded text-[10px] flex items-center">${product.rating} <i class="fa-solid fa-star text-[8px] ml-1"></i></span>
                                <span class="text-gray-500">(${Math.floor(Math.random() * 500)})</span>
                            </div>
                        </div>
                        <div class="p-4 flex-1 flex flex-col">
                            <h3 class="font-medium text-gray-900 mb-1 truncate">${product.name}</h3>
                            <p class="text-sm text-gray-500 mb-2 truncate">${product.description}</p>
                            <div class="mt-auto flex items-center justify-between">
                                <span class="text-lg font-bold text-gray-900">$${product.price}</span>
                                <button onclick="app.addToCart(${product.id})" class="bg-yellow-400 hover:bg-yellow-500 text-blue-900 text-sm font-bold px-4 py-2 rounded transition shadow-sm">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            },

            // Filter Logic
            filterProducts(query) {
                const lowerQuery = query.toLowerCase();
                const filtered = productsData.filter(p => 
                    (p.name.toLowerCase().includes(lowerQuery) || 
                    p.category.toLowerCase().includes(lowerQuery)) &&
                    (this.currentFilter === 'All' || p.category === this.currentFilter)
                );
                this.renderProducts(filtered);
            },

            filterCategory(category) {
                this.currentFilter = category;
                // Highlight active button (simple approach)
                const buttons = document.querySelectorAll('button'); // Not specific enough but works for this scope
                // Re-run search filter to combine logic
                const searchInput = document.getElementById('searchInput');
                this.filterProducts(searchInput.value || '');
            },

            // Cart Logic
            addToCart(productId) {
                const product = productsData.find(p => p.id === productId);
                const existingItem = this.cart.find(item => item.id === productId);

                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    this.cart.push({ ...product, quantity: 1 });
                }

                this.showToast(`Added ${product.name} to cart`);
                this.updateCartUI();
            },

            removeFromCart(productId) {
                this.cart = this.cart.filter(item => item.id !== productId);
                this.renderCartItems();
                this.updateCartUI();
            },

            updateQuantity(productId, change) {
                const item = this.cart.find(item => item.id === productId);
                if (item) {
                    item.quantity += change;
                    if (item.quantity <= 0) {
                        this.removeFromCart(productId);
                    } else {
                        this.renderCartItems();
                        this.updateCartUI();
                    }
                }
            },

            updateCartUI() {
                const count = this.cart.reduce((sum, item) => sum + item.quantity, 0);
                const badge = document.getElementById('cartCount');
                badge.textContent = count;
                
                // Animation trigger
                badge.classList.remove('cart-badge');
                void badge.offsetWidth; // trigger reflow
                badge.classList.add('cart-badge');
            },

            renderCartItems() {
                const container = document.getElementById('cartItemsContainer');
                const emptyMsg = document.getElementById('emptyCartMsg');
                const checkoutPanel = document.getElementById('checkoutPanel');
                
                container.innerHTML = '';
                
                if (this.cart.length === 0) {
                    emptyMsg.classList.remove('hidden');
                    checkoutPanel.classList.add('hidden'); // Hide price details if empty
                    return;
                }

                emptyMsg.classList.add('hidden');
                checkoutPanel.classList.remove('hidden');

                let totalAmount = 0;
                let totalItems = 0;

                this.cart.forEach(item => {
                    totalAmount += item.price * item.quantity;
                    totalItems += item.quantity;

                    const div = document.createElement('div');
                    div.className = "bg-white p-4 rounded-lg shadow-sm border border-gray-100 flex gap-4 items-start";
                    div.innerHTML = `
                        <div class="w-20 h-20 flex-shrink-0">
                            <img src="${item.image}" alt="${item.name}" class="w-full h-full object-contain">
                        </div>
                        <div class="flex-1">
                            <h3 class="font-medium text-gray-900">${item.name}</h3>
                            <p class="text-gray-500 text-sm mb-2">${item.category}</p>
                            <div class="flex items-center gap-2 mb-2">
                                <span class="font-bold text-lg">$${item.price}</span>
                            </div>
                            <div class="flex items-center gap-4">
                                <div class="flex items-center border rounded-full">
                                    <button onclick="app.updateQuantity(${item.id}, -1)" class="w-8 h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 rounded-l-full">-</button>
                                    <span class="w-8 text-center text-sm font-medium">${item.quantity}</span>
                                    <button onclick="app.updateQuantity(${item.id}, 1)" class="w-8 h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 rounded-r-full">+</button>
                                </div>
                                <button onclick="app.removeFromCart(${item.id})" class="text-red-500 text-sm font-medium hover:underline">Remove</button>
                            </div>
                        </div>
                    `;
                    container.appendChild(div);
                });

                // Update Price Details
                document.getElementById('totalItemsCount').textContent = totalItems;
                document.getElementById('subTotalAmount').textContent = '$' + totalAmount;
                document.getElementById('grandTotal').textContent = '$' + totalAmount;
            },

            checkout() {
                // Simple Alert replacement with a nice custom modal approach or just a toast
                if(this.cart.length > 0) {
                    this.showToast("Order Placed Successfully! (Simulation)");
                    this.cart = [];
                    this.renderCartItems();
                    this.updateCartUI();
                    setTimeout(() => this.showPage('home'), 1500);
                }
            },

            showToast(message) {
                const toast = document.getElementById("toast");
                toast.textContent = message;
                toast.className = "show";
                setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
            }
        };

        // Initialize App
        app.init();
    </script>
</body>
</html>